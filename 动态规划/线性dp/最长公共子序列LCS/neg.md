# 最长公共子序列的概念

最长公共子序列是 __线性dp__ 的一种，假设有 $s$ 和 $t$ 两个子序列，定义 $f_{i, j}$ 表示从 $s$ 的前 $i$ 个字符和 $t$ 的前 $j$ 个字符中公共子序列的最大长度。接下来考虑 $f_{i,j}$ 的划分。

# 思路

$f_{i,j}$ 可以由这些情况定义

$$
1.选择第i个字母，选择第j个字母
$$
$$
2.选择第i个字母，不选择第j个字母
$$
$$
3.不选择第i个字母，选择第j个字母
$$
$$
4.不选择第i个字母，不选择第j个字母
$$

在上述情况中，

> 不选择第i个字母，不选择第j个字母

是很好表示的，即 $f_{i-1,j-1}$ 。

> 选择第i个字母，选择第j个字母

也是很好表示的，如果 $s$ 的第 $i$ 个字母和 $t$ 的第 $j$ 个字母一样，则 $f_{i,j} = f_{i-1,j-1} + 1$ 。

那么
> 选择第i个字母，不选择第j个字母的最长公共子序列 和 不选择第i个字母，选择第j个字母最长公共子序列

这两种情况该如何用 $f$ 表示呢？

$f_{i,j-1}$ 其实 __并不表示选择第 $i$ 个字母，不选择第j个字母的最长公共子序列__，因为他的意思是 __从 $s$ 的前 $i$ 个字符和 $t$ 的前 $j$ 个字符中公共子序列的最大长度__，但是这个状态包括了选择第 $i$ 个字母的情况和不选择第 $i$ 个字母的情况，同理 $f_{i-1,j}$ 也是。

# 状态转移方程
因此状态转移方程是：

$$
f_{i,j} = f_{i-1,j-1} + 1，当 s_{i} = t_{j} 时
$$

$$
f_{i,j} = max(f_{i-1,j}, f_{i,j-1})，当s_{i} \neq t_{j} 时
$$

这里需要注意，我们在 $s_{i} \neq t_{j}$ 时，不需要和 $f_{i-1,j-1}$ 进行比较，因为 $f_{i-1,j}$ 或者 $f_{i,j-1}$ 已经包括了上面的情况。

# 相关习题
- [最长公共子序列](https://leetcode.cn/problems/longest-common-subsequence/description/)
- [两个字符串的删除操作](https://leetcode.cn/problems/delete-operation-for-two-strings/description/)